
$(document).ready(function(){$('.session-item').on('click','#remove-from-schedule',function(e){e.preventDefault();console.log(e);var button=$(this);var url=button.closest('.session-item').find('.header').find('.title h4 a').attr('href');var sessionId=button.attr('value');$.ajax({context:button,type:'DELETE',url:url,data:{session_id:sessionId},timeout:15000,beforeSend:function(){button.addClass('disabled');},success:function(data){var parent=button.closest('.buttons');parent.find('.container-button-schedule').fadeIn('slow',function(){$(this).html(data);});var buttonContainer=parent.find('.container-button-schedule');if(buttonContainer.hasClass('personal')){var sessionGroup=buttonContainer.closest('.session-group');if(sessionGroup.children('.row').length===2)sessionGroup.fadeOut('slow',function(){$(this).detach();});else
    buttonContainer.closest('.session-item').closest('.row').fadeOut('slow',function(){$(this).detach();});}},complete:function(){button.removeClass('disabled');},error:function(request,errorType,errorMessage){alert(errorMessage);}})});$('.session-item').on('click','#add-to-schedule',function(e){e.preventDefault();var button=$(this);var url=button.closest('.session-item').find('.header').find('.title h4 a').attr('href');var sessionId=button.attr('value');console.log(url);$.ajax({type:'post',url:url,data:{session_id:sessionId},timeout:15000,beforeSend:function(){button.addClass('disabled');},success:function(data){var parent=button.closest('.buttons');parent.find('.container-button-schedule').fadeIn('slow',function(){$(this).html(data);})},complete:function(){button.removeClass('disabled');},error:function(request,errorType,errorMessage){alert(errorMessage);}})});$(".conference-item").on("click","#button-conference-more",function(){var conferenceItem=$(this).parent().parent().parent();var button=conferenceItem.find('button');conferenceItem.find('.description .text').toggleClass('hidden');button.text(button.text()==="Read more"?'Close':"Read more");});$(".session-item").on("click","#button-session-more",function(){var parent=$(this).parent().parent().parent();parent.find('.description-long').toggleClass('hidden');parent.find('.description-short').toggleClass('hidden');var button=parent.find('.button-more span');button.first().toggleClass('glyphicon-zoom-in glyphicon-zoom-out');var buttonText=button.last();buttonText.text(buttonText.text()==="Read more"?'Read less':"Read more");});window.setTimeout(function(){$(".alert-info").toggleClass('fadeIn fadeOut').detach();},5000);window.setTimeout(function(){$(".alert-danger").toggleClass('fadeIn fadeOut').detach();},5000);$("#login-button").on("click",function(){BootstrapDialog.show({title:'Login',description:'Login to your account',message:function(dialog){var $message=$('<div></div>');var pageToLoad=dialog.getData('pageToLoad');$message.load(pageToLoad);return $message;},data:{'pageToLoad':'/loginmodal'}});});$("#register-button").on("click",function(){BootstrapDialog.show({title:'Register',description:'Register a new account',message:function(dialog){var $message=$('<div></div>');var pageToLoad=dialog.getData('pageToLoad');$message.load(pageToLoad);return $message;},data:{'pageToLoad':'/registermodal'}});});});